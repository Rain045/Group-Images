# 圖片相似度自動分組工具 (Image Similarity Grouper)

這是一個基於 Python 與 `imagehash` 庫的實用腳本。它能夠自動掃描指定資料夾中的圖片，透過「感知哈希 (Perceptual Hashing)」計算圖片的視覺指紋，並將相似的圖片自動分類到獨立的子資料夾中。

---

## 1. 環境準備

在執行腳本之前，請確保你的電腦已安裝 Python (建議 3.7 以上版本)，並安裝所需的第三方套件。

請打開終端機 (Terminal) 或命令提示字元 (CMD)，執行以下指令：

```bash
pip install Pillow imagehash tqdm
```

**套件說明：**
* `Pillow`: 處理圖片讀取的強大庫。
* `imagehash`: 核心庫，用於生成圖片的感知哈希。
* `tqdm`: 用於在終端機顯示進度條，方便追蹤處理進度。

---

## 2. 使用步驟

1. **準備圖片**：將你想要整理的圖片放入一個資料夾中（例如命名為 `my_photos`）。
2. **修改路徑**：打開 `group_images.py`，將底部的 `INPUT_FOLDER` 更改為你的圖片資料夾路徑。
3. **執行腳本**：在終端機輸入並執行：
    ```bash
    python group_images.py "C:/INPUT_FOLDER" "D:/OUTPUT_FOLDER" -t 8
    ```
4. **查看結果**：執行完畢後，打開 `OUTPUT_FOLDER` 指定的資料夾，你將會看到以 `Group_1`, `Group_2` 命名的子資料夾，裡面裝著被判定為相似的圖片。

---

## 3. 參數調校指南

腳本中最關鍵的參數是 **`DIFF_THRESHOLD` (漢明距離閾值)**，它決定了圖片判定為「相似」的嚴格程度：

| 閾值數值 | 匹配嚴格度 | 適用場景說明 |
| :--- | :--- | :--- |
| **0** | 極度嚴格 | 只匹配完全一模一樣的圖片（例如同圖不同檔名）。 |
| **1 - 5** | 嚴格 | 圖片非常相似。適合尋找被壓縮過、轉換格式或輕微縮放的相同圖片。 |
| **6 - 10** | 適中 (推薦) | 構圖相同，但可能有輕微裁切、浮水印或色彩濾鏡。 |
| **> 12** | 寬鬆 | 容易出現誤判，可能會將構圖或色調接近但內容不同的圖片分在一起。 |

> **提示**：建議先用少量的圖片測試 `DIFF_THRESHOLD = 5` 或 `8`，確認分類效果符合預期後，再應用於大量圖片。


